(this["webpackJsonppuhelinluettelo-front"]=this["webpackJsonppuhelinluettelo-front"]||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},19:function(e,n,t){},37:function(e,n,t){"use strict";t.r(n);var a=t(0),u=t.n(a),l=t(13),r=t.n(l),c=(t(19),t(3)),i=t(2),o=t.n(i),m="/api/persons",d=function(){return o.a.get(m)},f=function(e){return o.a.post(m,e)},s=function(e){return o.a.delete("".concat(m,"/").concat(e))},b=function(e){var n=e.name,t=e.number,a=e.id,l=e.deleteCall;return u.a.createElement("li",null,n," ",t," ",u.a.createElement("button",{onClick:function(){l(a)}},"delete"))},E=function(e){var n=e.list,t=e.deleteCall;return u.a.createElement("ul",null,n.map((function(e,n){return u.a.createElement(b,{name:e.name,number:e.number,key:e.id,id:e.id,deleteCall:t})})))},p=function(e){var n=e.name,t=e.number,a=e.entryHandler,l=e.nameHandler,r=e.numberHandler;return u.a.createElement("form",{onSubmit:a},u.a.createElement("div",null,"name: ",u.a.createElement("input",{value:n,onChange:l})),u.a.createElement("div",null,"number: ",u.a.createElement("input",{value:t,onChange:r})),u.a.createElement("div",null,u.a.createElement("button",{type:"submit"},"add")))},v=function(e){var n=e.message;return null===n?null:u.a.createElement("div",{className:"info"},n)},h=function(){var e=Object(a.useState)([]),n=Object(c.a)(e,2),t=n[0],l=n[1],r=Object(a.useState)(""),i=Object(c.a)(r,2),o=i[0],m=i[1],b=Object(a.useState)(""),h=Object(c.a)(b,2),j=h[0],k=h[1],O=Object(a.useState)(null),g=Object(c.a)(O,2),C=g[0],w=g[1];Object(a.useEffect)((function(){d().then((function(e){l(e.data)}))}));return u.a.createElement("div",null,u.a.createElement("h2",null,"Phonebook"),u.a.createElement(v,{message:C}),u.a.createElement(p,{name:o,number:j,entryHandler:function(e){e.preventDefault();var n={name:o,number:j};void 0===t.find((function(e){return e.name===o}))?f(n).then((function(e){l(t.concat(e.data)),m(""),k(""),w("Lis\xe4ttiin henkil\xf6n ".concat(o," puhelinnumero")),setTimeout((function(){w(null)}),3e3)})):window.alert("".concat(n.name," is already added to phonebook"))},nameHandler:function(e){return m(e.target.value)},numberHandler:function(e){return k(e.target.value)}}),u.a.createElement("h2",null,"Numbers"),u.a.createElement(E,{list:t,deleteCall:function(e){var n=t.find((function(n){return n.id===e}));window.confirm("Poistetaanko ".concat(n.name,"?"))&&(s(e).then((function(n){l(t.filter((function(n){return n.id!==e})))})),w("Poistettiin henkil\xf6n ".concat(n.name," puhelinnumero")),setTimeout((function(){w(null)}),3e3))}}))};r.a.render(u.a.createElement(h,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.108dd0d1.chunk.js.map